{
  "summary": "Added lsysviz/expand.py implementing a pure, deterministic L-system string expansion function based on Grammar axiom and rules for a given number of iterations.",
  "writes": [
    {
      "base_sha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
      "content": "from __future__ import annotations\n\nfrom .types import Grammar\n\n\ndef expand(grammar: Grammar, iterations: int) -> str:\n    \"\"\"Expand an L-system grammar for a given number of iterations.\n\n    Rules are applied simultaneously per iteration by scanning the current\n    string left-to-right and replacing each character if it exists as a key in\n    grammar.rules; otherwise the character is kept unchanged.\n\n    This function is pure and deterministic.\n    \"\"\"\n    if iterations < 0:\n        raise ValueError(\"iterations must be >= 0\")\n\n    current = grammar.axiom\n    if iterations == 0:\n        return current\n\n    rules = grammar.rules\n    for _ in range(iterations):\n        current = \"\".join(rules.get(ch, ch) for ch in current)\n\n    return current\n",
      "path": "lsysviz/expand.py"
    }
  ]
}
