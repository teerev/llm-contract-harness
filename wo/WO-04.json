{
  "id": "WO-04",
  "title": "WO-04: Freeze CLI contract",
  "intent": "Define and freeze a minimal CLI that renders a PNG from a JSON spec file with no interactivity or GUI.",
  "allowed_files": [
    "lsysviz/__main__.py",
    "lsysviz/cli.py"
  ],
  "forbidden": [
    "Do not modify files outside allowed_files.",
    "Do not add new dependencies.",
    "Do not implement rendering behavior beyond argument parsing and dispatch wiring."
  ],
  "acceptance_commands": [
    "bash scripts/verify.sh",
    "python -m lsysviz --help",
    "python -m lsysviz render --help"
  ],
  "context_files": [
    "lsysviz/__main__.py",
    "lsysviz/cli.py"
  ],
  "notes": "Type: contract-definition. Contracts (frozen): CLI entrypoint is `python -m lsysviz`. It must provide a single subcommand `render` with required flags `--spec <path>` and `--out <path>` and must exit nonzero on invalid inputs. Help output must work even before the full renderer exists (do not import lsysviz.render at module import time; only import it inside the render handler). There is no GUI, no interactive preview, no server mode, and no extensibility mechanism. Patch formatting requirement: keep the diff valid for git apply; ensure hunk header line counts match actual changes. Compositionality: freezing CLI shape early prevents cumulative interface drift; later work orders only fill in the called rendering implementation without changing flags or semantics."
}

