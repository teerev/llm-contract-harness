{
  "id": "WO-14",
  "title": "WO-14: Example spec + determinism tests",
  "intent": "Add a canonical example JSON spec and unit tests that enforce byte-for-byte deterministic PNG output for the same inputs.",
  "allowed_files": [
    "examples/plant.json",
    "tests/test_determinism.py"
  ],
  "forbidden": [
    "Do not modify files outside allowed_files.",
    "Do not add new dependencies.",
    "Do not change core rendering code in this step (tests and example input only)."
  ],
  "acceptance_commands": [
    "bash scripts/verify.sh",
    "python -m unittest discover -q"
  ],
  "context_files": [],
  "notes": "Type: hardening. Contracts (frozen): examples/plant.json is a stable canonical input. tests/test_determinism.py must assert determinism without a precomputed golden hash: (1) render_png_bytes(parse_spec(json)) called twice yields identical bytes, (2) CLI render run twice yields identical output bytes, and (3) output begins with the PNG signature. Keep tests small and deterministic; no random seeds, no time-based assertions. Compositionality: strengthens invariants without changing behavior."
}

