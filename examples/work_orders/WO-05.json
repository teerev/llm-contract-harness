{
  "id": "WO-05",
  "title": "Implement turtle geometry interpreter",
  "intent": "Create lsysviz/turtle.py with a pure function that converts an L-system string into a list of line segments using turtle-graphics interpretation.",
  "allowed_files": [
    "lsysviz/turtle.py",
    "lsysviz/types.py"
  ],
  "forbidden": [
    "Do not modify lsysviz/types.py",
    "Do not modify any other existing files"
  ],
  "acceptance_commands": [
    "python -c \"from lsysviz.turtle import interpret; from lsysviz.types import Segment; segs = interpret('F', 90.0, 10.0); assert len(segs) == 1; assert abs(segs[0].y1 - 10.0) < 1e-9\"",
    "python -c \"from lsysviz.turtle import interpret; segs = interpret('FF', 90.0, 10.0); assert len(segs) == 2\"",
    "python -c \"from lsysviz.turtle import interpret; segs = interpret('F[+F]F', 90.0, 10.0); assert len(segs) == 3\""
  ],
  "context_files": [
    "lsysviz/turtle.py",
    "lsysviz/types.py"
  ],
  "notes": "Define: interpret(lstring: str, angle_deg: float, step_length: float) -> list[Segment]. The turtle starts at position (0.0, 0.0) heading 90 degrees (straight up in standard math coordinates). Supported commands: 'F' = move forward by step_length in current heading direction and record a Segment from old position to new position; '+' = turn left (counter-clockwise) by angle_deg; '-' = turn right (clockwise) by angle_deg; '[' = push current position and heading onto a stack; ']' = pop position and heading from the stack. All other characters are silently ignored. The function must be pure and deterministic. Do NOT modify lsysviz/types.py."
}
