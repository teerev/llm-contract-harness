{
  "id": "WO-10",
  "title": "Add rendering and determinism tests",
  "intent": "Create tests/test_render.py with tests for PNG rendering correctness and byte-level determinism.",
  "allowed_files": [
    "tests/test_render.py",
    "lsysviz/render.py",
    "lsysviz/types.py"
  ],
  "forbidden": [
    "Do not modify lsysviz/render.py",
    "Do not modify lsysviz/types.py",
    "Do not modify any other existing files"
  ],
  "acceptance_commands": [
    "python -m pytest tests/test_render.py -q"
  ],
  "context_files": [
    "tests/test_render.py",
    "lsysviz/render.py",
    "lsysviz/types.py"
  ],
  "notes": "IMPORTANT: Read lsysviz/render.py carefully to learn the EXACT function signature and parameter names of render_to_png(). Use those exact parameter names in every test call. tests/test_render.py must import render_to_png from lsysviz.render and Segment from lsysviz.types. Use tempfile.mkdtemp() for all output files to avoid polluting the repo. Include at least these test cases: (1) rendering a non-empty segment list creates a valid PNG file (check file exists and starts with PNG magic bytes b'\\x89PNG'), (2) rendering an empty segment list creates a file (blank white image), (3) determinism: call render_to_png twice with identical inputs to two different paths and assert the file bytes are identical, (4) rendering segments with negative coordinates works without error (the renderer must handle arbitrary coordinate ranges). Import PIL.Image to verify image dimensions if desired. Do NOT guess parameter names â€” read them from the source."
}
