{
  "id": "WO-08",
  "title": "Add generation tests and enable pytest in verification",
  "intent": "Create tests/test_generate.py with deterministic unit tests for the maze generator, and update scripts/verify.sh to also run pytest.",
  "allowed_files": [
    "tests/test_generate.py",
    "scripts/verify.sh",
    "mazegen/generate.py",
    "mazegen/types.py"
  ],
  "forbidden": [
    "Do not modify mazegen/generate.py",
    "Do not modify mazegen/types.py",
    "Do not modify any other mazegen/ files"
  ],
  "acceptance_commands": [
    "python -m pytest tests/test_generate.py -q"
  ],
  "context_files": [
    "tests/test_generate.py",
    "scripts/verify.sh",
    "mazegen/generate.py",
    "mazegen/types.py"
  ],
  "notes": "IMPORTANT: Read mazegen/generate.py and mazegen/types.py carefully to learn the EXACT function signatures and type definitions. Use those exact names in all test calls. tests/test_generate.py must import generate from mazegen.generate and Position, Maze from mazegen.types. Include at least these test cases: (1) generate returns a Maze with correct width, height, seed, start=Position(0,0), end=Position(height-1,width-1), (2) determinism: generate(w, h, seed) called twice produces identical passages, (3) a perfect maze of W x H has exactly W*H - 1 passages, (4) all cells are reachable from start (BFS/DFS over passages to verify connectivity), (5) different seeds produce different mazes. Update scripts/verify.sh to append 'python -m pytest -q' as the last line (keep the existing compileall line). Do NOT guess parameter names â€” read them from the source."
}
