{
  "summary": "Added tests/test_render.py with unit tests covering ASCII rendering format, solution overlay behavior, and byte-level determinism for rendering and the full generate->solve->render pipeline.",
  "writes": [
    {
      "base_sha256": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
      "content": "import unittest\n\nfrom mazegen.render import render_ascii\nfrom mazegen.generate import generate\nfrom mazegen.solve import solve\nfrom mazegen import types\n\n\nclass TestRenderASCII(unittest.TestCase):\n    def test_render_ascii_non_empty_for_generated_maze(self) -> None:\n        maze = generate(4, 3, 123)\n        out = render_ascii(maze)\n        self.assertIsInstance(out, str)\n        self.assertTrue(len(out) > 0)\n\n    def test_render_ascii_has_expected_line_count(self) -> None:\n        w, h, seed = 5, 4, 999\n        maze = generate(w, h, seed)\n        out = render_ascii(maze)\n\n        # render_ascii returns a trailing newline; splitlines() ignores the final empty.\n        lines = out.splitlines()\n        self.assertEqual(len(lines), 2 * h + 1)\n\n    def test_render_determinism_same_maze_same_output(self) -> None:\n        maze = generate(6, 4, 42)\n        out1 = render_ascii(maze)\n        out2 = render_ascii(maze)\n        self.assertEqual(out1, out2)\n\n    def test_solution_overlay_contains_asterisks_when_solution_provided(self) -> None:\n        maze = generate(6, 4, 7)\n        sol = solve(maze)\n        self.assertTrue(sol.found)\n\n        out = render_ascii(maze, sol)\n        self.assertIn(\"*\", out)\n\n    def test_no_solution_overlay_has_no_asterisks(self) -> None:\n        maze = generate(6, 4, 7)\n        out = render_ascii(maze)\n        self.assertNotIn(\"*\", out)\n\n    def test_end_to_end_determinism_generate_solve_render(self) -> None:\n        w, h, seed = 10, 6, 2024\n\n        maze1 = generate(w, h, seed)\n        sol1 = solve(maze1)\n        out1 = render_ascii(maze1, sol1)\n\n        maze2 = generate(w, h, seed)\n        sol2 = solve(maze2)\n        out2 = render_ascii(maze2, sol2)\n\n        # Byte-level determinism: exact string match.\n        self.assertEqual(out1, out2)\n\n\nif __name__ == \"__main__\":\n    unittest.main()\n",
      "path": "tests/test_render.py"
    }
  ]
}
