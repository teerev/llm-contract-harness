{
  "id": "WO-06",
  "title": "Implement ASCII grid renderer",
  "intent": "Create lifesim/render.py with a function that renders a WorldState as an ASCII string, with optional path/highlight overlay.",
  "allowed_files": [
    "lifesim/render.py",
    "lifesim/types.py"
  ],
  "forbidden": [
    "Do not modify lifesim/types.py",
    "Do not modify any other existing files",
    "Do not import any external dependencies â€” use only the standard library"
  ],
  "acceptance_commands": [
    "python -c \"from lifesim.render import render_ascii; from lifesim.types import WorldState, Position, Agent; ws = WorldState(width=3, height=3, step_number=0, seed=1, agents=((Position(0,0), Agent(10,0,0)), (Position(1,1), Agent(5,2,1)))); s = render_ascii(ws); assert isinstance(s, str) and len(s) > 0; lines = s.strip().split(chr(10)); assert len(lines) == 3, f'expected 3 lines, got {len(lines)}'\"",
    "python -c \"from lifesim.render import render_ascii; from lifesim.types import WorldState; ws = WorldState(3, 3, 0, 1, ()); s1 = render_ascii(ws); s2 = render_ascii(ws); assert s1 == s2, 'not deterministic'\""
  ],
  "context_files": [
    "lifesim/render.py",
    "lifesim/types.py"
  ],
  "notes": "Define: render_ascii(state: WorldState) -> str.\n\nRender the grid as a height-line string where each cell is one character: '.' for empty cells, '@' for agents with energy > 5, 'o' for agents with energy 1-5, 'x' for agents with energy <= 0 (about to die). Each row is width characters, rows separated by newline. No trailing newline.\n\nExample for a 3x3 grid with agents at (0,0) energy=10 and (1,1) energy=3:\n@..\n.o.\n...\n\nThe function must be pure, deterministic, and use no external dependencies. Do NOT modify lifesim/types.py."
}
